<div class="bg-white rounded-lg shadow p-10"> 

    <h2 class="text-2xl font-bold text-left text-gray-800 mb-6">Dashboard</h2>
    <a href="/reminder/add" class="text-blue-500 underline">Criar lembrete</a>

    <form action="/reminder/dashboard" method="GET" class="mb-6">
        <div class="flex gap-2">
            <input
                type="text"
                name="search"
                placeholder="Buscar lembretes..."
                class="w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring focus:border-blue-300"
                value="{{search}}"
            />
            <button
                type="submit"
                class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
            >
                Buscar
            </button>
        </div>
    </form>

    <h3 class="text-xl font-semibold mt-6 mb-2">Lembretes</h3>

    {{#if reminders.length}}
        <ul class="space-y-4">
            {{#each reminders}}
                <li class="p-4 border rounded-lg shadow-sm flex flex-row items-center justify-between">
                    <h4 class="text-lg font-bold text-gray-700">{{title}}</h4>
                    {{#if description}}
                        <p class="text-gray-600">{{description}}</p>
                    {{/if}}
                    {{#if date}}
                        <p class="text-sm text-gray-500">Data: {{date}}</p>
                    {{/if}}
                    <div class="group flex flex-row items-center justify-between gap-2">
                        <a href="/reminder/edit/{{this.id}}" class="mt-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Editar</a>
                        <form action="/reminder/remove" method="post" class="flex flex-col items-end">
                            <input type="hidden" type="submit" name="id" value="{{id}}">
                            <button type="submit" class="mt-2 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Excluir</button>
                        </form>
                    </div>
                </li>
            {{/each}}
        </ul>

        <div class="flex gap-2 mt-4">
            {{#if currentPage}}
                {{#if (gt currentPage 1)}}
                    <a href="?page={{subtract currentPage 1}}&search={{search}}" class="px-3 py-1 bg-gray-200 rounded">Anterior</a>
                {{/if}}
            {{/if}}

            {{#each (range 1 totalPages) as |page|}}
                <a href="?page={{page}}&search={{../search}}" class="px-3 py-1 {{#ifEquals ../currentPage page}}bg-blue-500 text-white{{else}}bg-gray-200{{/ifEquals}} rounded">
                    {{page}}
                </a>
            {{/each}}

            {{#if currentPage}}
                {{#if (lt currentPage totalPages)}}
                    <a href="?page={{add currentPage 1}}&search={{search}}" class="px-3 py-1 bg-gray-200 rounded">Pr√≥ximo</a>
                {{/if}}
            {{/if}}
        </div>
    {{else}}
        <p class="text-gray-500">Nenhum lembrete cadastrado.</p>
    {{/if}}
</div>
